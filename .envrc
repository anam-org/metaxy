export DIRENV_WARN_TIMEOUT=20s

eval "$(devenv direnvrc)"

use devenv

# Auto-sync Python dependencies if uv.lock changed
if [ ! -f .venv/pyvenv.cfg ] || [ uv.lock -nt .venv/pyvenv.cfg ]; then
  echo "ðŸ“¦ Syncing Python dependencies..."
  uv sync --all-extras --all-groups
fi

# Activate virtual environment if it exists
if [ -f .venv/bin/activate ]; then
  source .venv/bin/activate
fi
